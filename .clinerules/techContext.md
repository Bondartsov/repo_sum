# Technical Context: Repository Analyzer

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Python 3.8+**: –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **OpenAI GPT API**: –ò–ò-–∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (gpt-4o-mini –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Qdrant**: –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è RAG —Å–∏—Å—Ç–µ–º—ã
- **CodeBERT/GraphCodeBERT**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–±–µ–¥–∏–Ω–≥–∏ –¥–ª—è –∫–æ–¥–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Streamlit**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π + Chat UI
- **AST (Abstract Syntax Tree)**: –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–¥–∞ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- **Pathlib**: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- **JSON**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Markdown**: –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
# Core dependencies
openai>=1.0.0          # OpenAI API –∫–ª–∏–µ–Ω—Ç
streamlit>=1.28.0      # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python-dotenv>=1.0.0   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pytest>=7.4.0          # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pathspec>=0.11.0       # Git-style ignore –ø–∞—Ç—Ç–µ—Ä–Ω—ã

# RAG System dependencies  
qdrant-client>=1.8.0   # Qdrant –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î
transformers>=4.35.0   # Hugging Face —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã
torch>=2.0.0          # PyTorch –¥–ª—è —ç–º–±–µ–¥–∏–Ω–≥–æ–≤
sentence-transformers>=2.2.0  # Sentence embeddings
numpy>=1.24.0         # –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
faiss-cpu>=1.7.4      # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π fallback –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
```

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
repo_sum/
‚îú‚îÄ‚îÄ main.py                 # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ web_ui.py              # Streamlit –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å Chat UI
‚îú‚îÄ‚îÄ config.py              # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ file_scanner.py        # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ openai_integration.py  # OpenAI API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ retry
‚îú‚îÄ‚îÄ doc_generator.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ code_chunker.py        # –†–∞–∑–±–∏–≤–∫–∞ –∫–æ–¥–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏
‚îú‚îÄ‚îÄ utils.py               # –£—Ç–∏–ª–∏—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ parsers/               # –ü–∞—Ä—Å–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ base_parser.py     # –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ python_parser.py   # Python AST –ø–∞—Ä—Å–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ [language]_parser.py
‚îî‚îÄ‚îÄ rag/                   # üî• RAG —Å–∏—Å—Ç–µ–º–∞ (–Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
    ‚îú‚îÄ‚îÄ __init__.py        # RAG –º–æ–¥—É–ª—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ vector_store.py    # Qdrant –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    ‚îú‚îÄ‚îÄ code_embedder.py   # CodeBERT/GraphCodeBERT —ç–º–±–µ–¥–∏–Ω–≥–∏
    ‚îú‚îÄ‚îÄ semantic_chunker.py # –ú–∏–∫—Ä–æ-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ (AST-based)
    ‚îú‚îÄ‚îÄ query_engine.py    # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îú‚îÄ‚îÄ chat_interface.py  # –î–∏–∞–ª–æ–≥–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–¥–∞
    ‚îú‚îÄ‚îÄ code_context.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∫–æ–¥–∞
    ‚îî‚îÄ‚îÄ rag_config.py      # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RAG
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. **Separation of Concerns**: –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –æ–±–ª–∞—Å—Ç—å
2. **Plugin Architecture**: –†–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤
3. **Configuration-driven**: –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–µ–¥–µ–Ω—ã –≤ settings.json
4. **Fail-safe**: Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
5. **Resource Management**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤ API

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. RepositoryAnalyzer (main.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞
**–§—É–Ω–∫—Ü–∏–∏**:
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–Ω–∞–ª–∏–∑–∞
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å argparse
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ error handling

### 2. FileScanner (file_scanner.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
**–§—É–Ω–∫—Ü–∏–∏**:
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º –∏ exclude-—Å–ø–∏—Å–∫–∞–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- Git-style ignore patterns

### 3. ParserRegistry (parsers/)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏**:
```python
SUPPORTED_EXTENSIONS = {
    ".py": "python",     # Python AST –ø–∞—Ä—Å–µ—Ä
    ".js": "javascript", # JavaScript –ø–∞—Ä—Å–µ—Ä  
    ".ts": "typescript", # TypeScript –ø–∞—Ä—Å–µ—Ä
    ".java": "java",     # Java –ø–∞—Ä—Å–µ—Ä
    ".cpp": "cpp",       # C++ –ø–∞—Ä—Å–µ—Ä
    ".cs": "csharp",     # C# –ø–∞—Ä—Å–µ—Ä
    ".go": "go",         # Go –ø–∞—Ä—Å–µ—Ä
    ".rs": "rust",       # Rust –ø–∞—Ä—Å–µ—Ä
    ".php": "php",       # PHP –ø–∞—Ä—Å–µ—Ä
    ".rb": "ruby"        # Ruby –ø–∞—Ä—Å–µ—Ä
}
```

### 4. CodeChunker (code_chunker.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏**:
- **logical**: –ü–æ —Ñ—É–Ω–∫—Ü–∏—è–º/–∫–ª–∞—Å—Å–∞–º/–º–æ–¥—É–ª—è–º
- **size**: –ü–æ —Ä–∞–∑–º–µ—Ä—É –≤ —Ç–æ–∫–µ–Ω–∞—Ö
- **lines**: –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫

### 5. OpenAIManager (openai_integration.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º —Å OpenAI API
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (JSON —Ñ–∞–π–ª—ã)
- Retry –º–µ—Ö–∞–Ω–∏–∑–º —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- –°–∞–Ω–∏—Ç–∞–π–∑–∏–Ω–≥ —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü–æ–¥—Å—á–µ—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

### 6. DocumentationGenerator (doc_generator.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö Markdown –æ—Ç—á–µ—Ç–æ–≤
**–§—É–Ω–∫—Ü–∏–∏**:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Ñ–∞–π–ª–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ README.md
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –®–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### 7. üî• RAG System (rag/ –º–æ–¥—É–ª—å) - –ù–û–í–´–ô –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ö–û–ú–ü–û–ù–ï–ù–¢

#### 7.1 VectorStore (rag/vector_store.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Qdrant –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant (–ª–æ–∫–∞–ª—å–Ω—ã–π/–æ–±–ª–∞—á–Ω—ã–π)
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- Bulk –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–∏–∫—Ä–æ-—á–∞–Ω–∫–æ–≤ –∫–æ–¥–∞
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä–∞–º
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 7.2 CodeEmbedder (rag/code_embedder.py) 
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∫–æ–¥–∞
**–ú–æ–¥–µ–ª–∏ (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ)**:
- **microsoft/codebert-base**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —ç–º–±–µ–¥–∏–Ω–≥–∏ –¥–ª—è –∫–æ–¥–∞
- **microsoft/graphcodebert-base**: –ì—Ä–∞—Ñ-aware —ç–º–±–µ–¥–∏–Ω–≥–∏
- **Salesforce/codet5p-220m**: –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–æ–¥–∞
**–§—É–Ω–∫—Ü–∏–∏**:
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ë–∞—Ç—á–µ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–∏–Ω–≥–æ–≤
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–∏–Ω–≥–æ–≤

#### 7.3 SemanticChunker (rag/semantic_chunker.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–∏–∫—Ä–æ-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ –¥–æ –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
**–ü–æ–¥—Ö–æ–¥**:
- AST-based —Ä–∞–∑–±–∏–µ–Ω–∏–µ –¥–æ statement/expression —É—Ä–æ–≤–Ω—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏: file ‚Üí class ‚Üí method ‚Üí statement
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ (—Ç–∏–ø, —Ä–æ–¥–∏—Ç–µ–ª—å, –ø–æ–∑–∏—Ü–∏—è)
- Overlap —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
**–¢–∏–ø—ã —á–∞–Ω–∫–æ–≤**:
- Function definitions
- Class definitions  
- Import statements
- Variable assignments
- Control flow blocks
- Individual expressions

#### 7.4 QueryEngine (rag/query_engine.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
**–ê–ª–≥–æ—Ä–∏—Ç–º**:
- –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π –≤ Qdrant
- –†–µ-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM

#### 7.5 ChatInterface (rag/chat_interface.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–∏–∞–ª–æ–≥–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–¥–æ–º
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: Streamlit chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- "–û–±—ä—è—Å–Ω–∏ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é [–∏–º—è]"
- "–ù–∞–π–¥–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π X"
- "–ö–∞–∫ —Å–≤—è–∑–∞–Ω—ã –º–æ–¥—É–ª–∏ A –∏ B?"
- "–ü—Ä–µ–¥–ª–æ–∂–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞"
- "–ù–∞–π–¥–∏ –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ"
- –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

#### 7.6 CodeContext (rag/code_context.py)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏
**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –¢—Ä–µ–∫–∏–Ω–≥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏–º–ø–æ—Ä—Ç–æ–≤
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ settings.json:
```json
{
  "openai": {
    "max_tokens_per_chunk": 4000,
    "max_response_tokens": 5000, 
    "temperature": 0.1,
    "retry_attempts": 3,
    "retry_delay": 1.0
  },
  "analysis": {
    "chunk_strategy": "logical",
    "min_chunk_size": 100,
    "languages_priority": ["python", "javascript", "java"],
    "sanitize_enabled": false,
    "sanitize_patterns": [
      "(?i)api_key\\s*[:=]\\s*['\"][^'\"]+['\"]"
    ]
  },
  "file_scanner": {
    "max_file_size": 10485760,
    "excluded_directories": [".git", "node_modules"],
    "supported_extensions": {...}
  },
  "output": {
    "default_output_dir": "./docs",
    "file_template": "minimal_file.md"
  },
  "rag": {
    "qdrant": {
      "host": "localhost",
      "port": 6333,
      "collection_name": "code_chunks",
      "vector_size": 768,
      "distance_metric": "cosine"
    },
    "embeddings": {
      "model_name": "microsoft/codebert-base",
      "batch_size": 32,
      "max_length": 512,
      "cache_embeddings": true
    },
    "chunking": {
      "strategy": "semantic_ast",
      "max_chunk_size": 200,
      "min_chunk_size": 20,
      "overlap_tokens": 50,
      "preserve_hierarchy": true
    },
    "search": {
      "top_k": 10,
      "score_threshold": 0.7,
      "rerank_enabled": true,
      "context_window": 5
    },
    "chat": {
      "max_context_chunks": 20,
      "response_max_tokens": 2000,
      "history_length": 10
    }
  }
}
```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**:
   - –ú–∞–ª—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (‚â§10 —Ñ–∞–π–ª–æ–≤): –±–∞—Ç—á–∏ –ø–æ 2 —Ñ–∞–π–ª–∞
   - –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç—ã (11-50 —Ñ–∞–π–ª–æ–≤): –±–∞—Ç—á–∏ –ø–æ 3 —Ñ–∞–π–ª–∞
   - –ë–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã (51-200 —Ñ–∞–π–ª–æ–≤): –±–∞—Ç—á–∏ –ø–æ 5 —Ñ–∞–π–ª–æ–≤
   - –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ (200+ —Ñ–∞–π–ª–æ–≤): –±–∞—Ç—á–∏ –ø–æ 8 —Ñ–∞–π–ª–æ–≤

2. **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤
   - –ö—ç—à —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ (7 –¥–Ω–µ–π)
   - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞

3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**:
   - –ò–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª `./.repo_sum/index.json`
   - –ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ hash –∏ timestamp

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: 10MB
- **Token limit**: 4000 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ chunk
- **API rate limits**: –ó–∞–≤–∏—Å—è—Ç –æ—Ç –ø–ª–∞–Ω–∞ OpenAI
- **Memory usage**: ~100MB –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ 1000 —Ñ–∞–π–ª–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ä—ã:
1. **API –∫–ª—é—á–∏**: –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **–°–∞–Ω–∏—Ç–∞–π–∑–∏–Ω–≥ —Å–µ–∫—Ä–µ—Ç–æ–≤**: –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ LLM
3. **Path traversal protection**: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤
4. **File size limits**: –ó–∞—â–∏—Ç–∞ –æ—Ç DoS –∞—Ç–∞–∫
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

### Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Å–∞–Ω–∏—Ç–∞–π–∑–∏–Ω–≥–∞:
```python
SANITIZE_PATTERNS = [
    r"(?i)api_key\s*[:=]\s*['\"][^'\"]+['\"]",
    r"(?i)password\s*[:=]\s*['\"][^'\"]+['\"]",  
    r"(?i)secret\s*[:=]\s*['\"][^'\"]+['\"]",
    r"(?i)token\s*[:=]\s*['\"][^'\"]+['\"]"
]
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:
```
tests/
‚îú‚îÄ‚îÄ test_config.py              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ test_file_scanner.py        # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–∞–Ω–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤  
‚îú‚îÄ‚îÄ test_code_chunker.py        # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ chunker'–∞
‚îú‚îÄ‚îÄ test_openai_integration.py  # Mock —Ç–µ—Å—Ç—ã OpenAI API
‚îú‚îÄ‚îÄ test_doc_generator.py       # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ test_parsers.py            # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ test_integration_full_cycle.py # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ test_property_based.py      # Property-based —Ç–µ—Å—Ç—ã
```

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤:
- **Unit tests**: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Integration tests**: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏–∑–∞
- **Mock tests**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤
- **Property-based tests**: Fuzz testing —Å Hypothesis

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –õ–æ–≥–∏—Ä—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–∞/–ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç
- –†–∞–∑–º–µ—Ä –±–∞—Ç—á–µ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ß–∞—Å—Ç–æ—Ç–∞ –∫—ç—à-–ø–æ–ø–∞–¥–∞–Ω–∏–π
- –û—à–∏–±–∫–∏ API –∏ retry —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –†–∞–∑–º–µ—Ä –≤—ã—Ö–æ–¥–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- **ERROR**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –ø—Ä–µ—Ä—ã–≤–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É
- **WARNING**: –ü—Ä–æ–±–ª–µ–º—ã, –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- **INFO**: –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü –∞–Ω–∞–ª–∏–∑–∞)
- **DEBUG**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üîÑ CI/CD –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
- **Windows**: –û—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Linux**: –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ  
- **macOS**: Desktop –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- **Docker**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
1. **–õ–æ–∫–∞–ª—å–Ω–æ–µ**: `pip install -r requirements.txt`
2. **–í–µ–±-—Å–µ—Ä–≤–µ—Ä**: Streamlit –Ω–∞ –ø–æ—Ä—Ç—É 8501
3. **Cloud**: VPS —Å –ø—É–±–ª–∏—á–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
4. **Systemd**: –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ service unit
